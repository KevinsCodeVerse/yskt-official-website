{"ast":null,"code":"import _regeneratorRuntime from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { getCourseListByOrderApi } from \"@/common/api/schoollDetails\";\nimport headerWorld from \"@/components/headerWorld.vue\";\nimport submitWork from \"@/components/submitWork.vue\";\nexport default {\n  components: {\n    headerWorld: headerWorld,\n    submitWork: submitWork\n  },\n  data: function data() {\n    return {\n      statusDic: {\n        0: \"未学习\",\n        1: \"已学习\",\n        2: \"已过期\"\n      },\n      filterData: {\n        hasFree: \"\",\n        categoryId: \"\",\n        hasLive: \"\"\n      },\n      filterList: [{\n        label: \"课程分类\",\n        key: \"hasFree\",\n        value: \"\",\n        options: [{\n          id: 0,\n          name: \"公开课\"\n        }, {\n          id: 1,\n          name: \"会员课\"\n        }]\n      }, {\n        label: \"课程类型\",\n        key: \"categoryId\",\n        value: \"\",\n        options: []\n      }, {\n        label: \"观看类型\",\n        value: \"\",\n        key: \"hasLive\",\n        options: [{\n          id: 0,\n          name: \"直播\"\n        }, {\n          id: 1,\n          name: \"录播\"\n        }]\n      }],\n      hasFreeList: [{\n        id: 0,\n        name: \"免费\"\n      }, {\n        id: 1,\n        name: \"收费\"\n      }],\n      hasLiveList: [{\n        id: 0,\n        name: \"直播\"\n      }, {\n        id: 1,\n        name: \"录播\"\n      }],\n      courseList: [],\n      pageNo: 1,\n      pageSize: 3,\n      total: 0,\n      loading: false\n    };\n  },\n  created: function created() {\n    this.getCourseList();\n  },\n  computed: {\n    noMore: function noMore() {\n      return this.courseList.length >= this.total;\n    },\n    disabled: function disabled() {\n      return this.loading || this.noMore;\n    }\n  },\n  methods: {\n    handleLive: function handleLive(item) {\n      this.$router.push({\n        path: \"/live/\".concat(item.id),\n        query: {\n          orderNum: item.orderNum\n        }\n      });\n    },\n    getCourseList: function getCourseList(load) {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var orderNum, res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.loading = true;\n              orderNum = _this.$route.query.orderNum;\n              _context.next = 4;\n              return getCourseListByOrderApi({\n                orderNum: orderNum\n              });\n            case 4:\n              res = _context.sent;\n              if (res) {\n                if (load) {\n                  _this.courseList = [].concat(_toConsumableArray(_this.courseList), _toConsumableArray(res.result));\n                } else {\n                  _this.courseList = res.result;\n                }\n              }\n\n              // this.total = res.result.total;\n              _this.loading = false;\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    handleSubmitWork: function handleSubmitWork(item) {\n      this.$refs.work.edit(item);\n    },\n    handleSearch: function handleSearch() {\n      this.pageNo = 1;\n      this.courseList = [];\n      this.getCourseList();\n    },\n    getByIdFindName: function getByIdFindName(id, list) {\n      var item = list.find(function (item) {\n        return item.id == id;\n      });\n      return item && item.name ? item.name : \"\";\n    },\n    load: function load() {\n      this.pageNo = this.pageNo + 1;\n      this.getCourseList(true);\n    },\n    handleItemClick: function handleItemClick(item) {\n      console.log(item, \"item\");\n    },\n    handleDetail: function handleDetail(item) {\n      console.log('item', item);\n\n      // this.$router.push({path: \"/homeIndex\", query: {\n      //   id: item.courseId\n      // }})\n      this.$router.push({\n        path: \"/live/\".concat(item.id),\n        query: {\n          orderNum: item.orderNum\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["getCourseListByOrderApi","headerWorld","submitWork","components","data","statusDic","filterData","hasFree","categoryId","hasLive","filterList","label","key","value","options","id","name","hasFreeList","hasLiveList","courseList","pageNo","pageSize","total","loading","created","getCourseList","computed","noMore","length","disabled","methods","handleLive","item","$router","push","path","concat","query","orderNum","load","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","$route","sent","_toConsumableArray","result","stop","handleSubmitWork","$refs","work","edit","handleSearch","getByIdFindName","list","find","handleItemClick","console","log","handleDetail"],"sources":["src/views/userCenter/myCourse.vue"],"sourcesContent":["<template>\n <div>\n   <headerWorld></headerWorld>\n   <div class=\"myCourse\">\n     <div\n         class=\"content-box\"\n         v-infinite-scroll=\"load\"\n         infinite-scroll-disabled=\"disabled\"\n     >\n       <div\n           v-for=\"(item, index) in courseList\"\n           :key=\"index\"\n           class=\"content-item\"\n           @click=\"handleItemClick(item)\"\n       >\n\n           <div class=\"left-box\">\n             <p class=\"title\">{{ item.name }}</p>\n             <p class=\"text\">{{ item.overview }}</p>\n             <span>主讲老师：{{ item.teacherName }}</span>\n             <div class=\"study-btn\"  @click=\"handleDetail(item)\">开始学习</div>\n<!--             <div class=\"cover-box\">-->\n<!--               <img class=\"cover\" :src=\"item.image\" alt=\"\" />-->\n<!--               <span v-if=\"item.hasFree === 1\" class=\"vip-mark\">VIP</span>-->\n<!--               <span v-if=\"item.liveStatus === 1\" class=\"tag tag-living\"-->\n<!--               ><i class=\"tag-icon\"></i>直播中</span-->\n<!--               >-->\n<!--             </div>-->\n           </div>\n           <div class=\"right-box\">\n             <div class=\"cover-box\">\n               <img class=\"cover\" :src=\"item.image\" alt=\"\" />\n             </div>\n<!--             <div class=\"top-box\">-->\n<!--               <div class=\"info_name_overview\">-->\n<!--                 <div class=\"name-box\">-->\n<!--                   {{ item.courseName }}-->\n<!--                 </div>-->\n<!--                 <div class=\"overview-box\">-->\n<!--                   {{ item.overview }}-->\n<!--                 </div>-->\n<!--               </div>-->\n<!--               <div class=\"topic-box\" v-if=\"item.adCourseChapters\">-->\n<!--                 <div-->\n<!--                     class=\"item\"-->\n<!--                     v-for=\"(chapter, index) in item.adCourseChapters\"-->\n<!--                     :title=\"chapter.name\"-->\n<!--                     :key=\"chapter.id\"-->\n<!--                 >-->\n<!--                   {{ index + 1 }}. {{ chapter.name }}-->\n<!--                 </div>-->\n<!--               </div>-->\n<!--             </div>-->\n<!--             <div class=\"bottom-box\">-->\n<!--               <div class=\"tag-box\">-->\n<!--                 <span>主讲：{{ item.teacherName }}</span>-->\n<!--                 <span-->\n<!--                 ><el-tag size=\"small\" type=\"warning\">{{-->\n<!--                     getByIdFindName(item.hasLive, hasLiveList)-->\n<!--                   }}</el-tag></span-->\n<!--                 >-->\n<!--                 <span-->\n<!--                 ><el-tag size=\"small\" type=\"danger\">{{-->\n<!--                     statusDic[item.status]-->\n<!--                   }}</el-tag></span-->\n<!--                 >-->\n<!--               </div>-->\n\n<!--               <div>-->\n<!--                 <el-button-->\n<!--                     @click=\"handleDetail(item)\"-->\n<!--                     size=\"mini\"-->\n<!--                     type=\"success\"-->\n<!--                 >立即学习</el-button-->\n<!--                 >-->\n<!--               </div>-->\n<!--             </div>-->\n           </div>\n         </div>\n\n       <div class=\"bottom-info\" v-if=\"loading\">加载中...</div>\n       <div class=\"bottom-info\" v-if=\"noMore\">没有更多了</div>\n     </div>\n     <submitWork ref=\"work\"></submitWork>\n   </div>\n </div>\n\n</template>\n\n<script>\nimport {getCourseListByOrderApi } from \"@/common/api/schoollDetails\";\nimport headerWorld from \"@/components/headerWorld.vue\";\nimport submitWork from \"@/components/submitWork.vue\";\nexport default {\n  components: {\n    headerWorld,\n    submitWork,\n  },\n  data() {\n    return {\n      statusDic: {\n        0: \"未学习\",\n        1: \"已学习\",\n        2: \"已过期\",\n      },\n      filterData: {\n        hasFree: \"\",\n        categoryId: \"\",\n        hasLive: \"\",\n      },\n      filterList: [\n        {\n          label: \"课程分类\",\n          key: \"hasFree\",\n          value: \"\",\n          options: [\n            {\n              id: 0,\n              name: \"公开课\",\n            },\n            {\n              id: 1,\n              name: \"会员课\",\n            },\n          ],\n        },\n        {\n          label: \"课程类型\",\n          key: \"categoryId\",\n          value: \"\",\n          options: [],\n        },\n        {\n          label: \"观看类型\",\n          value: \"\",\n          key: \"hasLive\",\n          options: [\n            {\n              id: 0,\n              name: \"直播\",\n            },\n            {\n              id: 1,\n              name: \"录播\",\n            },\n          ],\n        },\n      ],\n      hasFreeList: [\n        {\n          id: 0,\n          name: \"免费\",\n        },\n        {\n          id: 1,\n          name: \"收费\",\n        },\n      ],\n      hasLiveList: [\n        {\n          id: 0,\n          name: \"直播\",\n        },\n        {\n          id: 1,\n          name: \"录播\",\n        },\n      ],\n      courseList: [],\n      pageNo: 1,\n      pageSize: 3,\n      total: 0,\n      loading: false,\n    };\n  },\n  created() {\n    this.getCourseList();\n  },\n  computed: {\n    noMore() {\n      return this.courseList.length >= this.total;\n    },\n    disabled() {\n      return this.loading || this.noMore;\n    },\n  },\n  methods: {\n    handleLive(item) {\n      this.$router.push({\n        path: `/live/${item.id}`,\n        query: { orderNum: item.orderNum },\n      });\n    },\n    async getCourseList(load) {\n      this.loading = true;\n      const orderNum = this.$route.query.orderNum\n      const res = await getCourseListByOrderApi({orderNum});\n      if (res) {\n        if (load) {\n\n          this.courseList = [...this.courseList, ...res.result];\n        } else {\n          this.courseList = res.result;\n        }\n      }\n\n      // this.total = res.result.total;\n      this.loading = false;\n    },\n    handleSubmitWork(item) {\n      this.$refs.work.edit(item);\n    },\n    handleSearch() {\n      this.pageNo = 1;\n      this.courseList = [];\n      this.getCourseList();\n    },\n\n    getByIdFindName(id, list) {\n      const item = list.find((item) => item.id == id);\n      return item && item.name ? item.name : \"\";\n    },\n\n    load() {\n      this.pageNo = this.pageNo + 1;\n      this.getCourseList(true);\n    },\n    handleItemClick(item) {\n      console.log(item, \"item\");\n    },\n    handleDetail(item) {\n      console.log('item',item)\n\n      // this.$router.push({path: \"/homeIndex\", query: {\n      //   id: item.courseId\n      // }})\n      this.$router.push({\n        path: `/live/${item.id}`,\n        query: { orderNum: item.orderNum },\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.filter-box {\n}\n.tag-living {\n  background-color: rgba(255, 120, 0, 0.8);\n  position: absolute;\n  z-index: 10;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: 61px;\n  height: 19px;\n  line-height: 19px;\n  font-size: 12px;\n  text-align: center;\n  color: #fff;\n  border-radius: 2px;\n  .tag-icon {\n    border-radius: 50%;\n    background-image: url(https://a.msstatic.com/huya/main3/components/SubscribeList/Card/img/icon_live_eb974.png);\n    animation: matchLiving 0.6s steps(6) infinite;\n    margin-left: -4px;\n    margin-right: 3px;\n    padding: 0 8px;\n  }\n}\n@keyframes matchLiving {\n  0% {\n    background-position: 0 0;\n  }\n  100% {\n    background-position: -109px 0;\n  }\n}\n.myCourse {\n  width: 1200px;\n  margin: auto;\n  // padding: 20px;\n  padding-top: 0px;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  text-align: left;\n  align-items: center;\n  //flex-direction: column;\n  box-sizing: border-box;\n  .vip-mark {\n    box-sizing: border-box;\n    display: flex;\n    z-index: 100;\n    justify-content: center;\n    align-items: center;\n    right: 4px;\n    top: 4px;\n    position: absolute;\n    width: 30px;\n    height: 16px;\n    color: #8e5323;\n    font-size: 10px;\n    font-style: normal;\n    background: linear-gradient(170deg, #fbdec0, #f2b981);\n    border-radius: 5px;\n  }\n}\n\n.content-box {\n  margin:20px auto;\n  overflow: auto;\n  width: 1200px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n\n  .content-item {\n    display: flex;\n    justify-content: space-between;\n    width: 48%;\n    margin-bottom: 20px;\n    background: #fff;\n    box-sizing: border-box;\n    cursor: pointer;\n\n    padding: 20px;\n    // box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n    border-radius: 10px;\n    &:hover {\n      box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n      .title {\n        color: var(--color-main);\n      }\n      .study-btn {\n        color: #fff !important;\n        background: var(--color-main);\n      }\n      .cover {\n        transform: scale(1.1);\n      }\n    }\n    .left-box {\n      .title {\n        font-size: 20px;\n        font-weight: bold;\n        padding-bottom: 10px;\n      }\n      .text {\n        font-size: 14px;\n        color: #666;\n        margin: 10px 0px;\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        word-wrap: break-word;\n        word-break: break-all;\n      }\n\n      span {\n        color: #999999;\n        font-size: 12px;\n      }\n      .study-btn {\n        width: 112px;\n        height: 36px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: 1px solid var(--color-main);\n        border-radius: 6px;\n        color: var(--color-main);\n        margin-top: 20px;\n      }\n    }\n    .right-box {\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      width: 278px;\n\n      // height: 250px;\n      .cover-box {\n        width: 278px;\n        height: 180px;\n        overflow: hidden;\n        border-radius: 10px;\n        .cover {\n          position: relative;\n          z-index: 1;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          border-radius: 10px;\n          transition: all 0.5s;\n        }\n      }\n      &::after {\n        content: \"\";\n        display: block;\n        margin: 0 16px;\n        height: 22px;\n        background: url(\"@/assets/shadow_1380@2x.d42d9897.png\") no-repeat;\n        background-size: 100%;\n      }\n    }\n  }\n\n  .bottom-info {\n    width: 100%;\n    text-align: center;\n    margin: 20px 0px;\n  }\n}\n.box {\n  transition: transform 0.1s ease-in-out 0.1s;\n}\n.fills {\n  margin-right: 30px;\n}\n\n.fills:hover {\n  color: #ffffff;\n  cursor: pointer;\n}\n.concat {\n  display: flex;\n  justify-content: center;\n  text-align: left;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 20px;\n  .filter-box {\n    width: 1200px;\n  }\n}\n.titleOptions {\n  background: #fff;\n  border-radius: 5px;\n  width: 1200px;\n  height: auto;\n  margin: 30px 0;\n  border: 1px solid #eaeaea;\n}\n.vn-cls {\n  display: flex;\n  border-bottom: 1px solid #eaeaea;\n  padding-left: 30px;\n  height: 60px;\n  margin-bottom: 15px;\n  line-height: 60px;\n}\n.courseIndex {\n  min-width: 60px;\n  height: 30px;\n  margin-right: 15px;\n  line-height: 30px;\n  margin-left: 15px;\n  text-align: center;\n  padding: 10px;\n}\n.courseIndex2 {\n  min-width: 60px;\n  height: 30px;\n  font-weight: 700;\n  line-height: 30px;\n  text-align: center;\n  padding: 10px;\n  background: #1584f6;\n  cursor: pointer;\n  color: #fff;\n  border-radius: 5px;\n}\n.courseIndex:hover {\n  background: #1584f6;\n  cursor: pointer;\n  border-radius: 5px;\n  font-weight: 700;\n  color: #fff;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
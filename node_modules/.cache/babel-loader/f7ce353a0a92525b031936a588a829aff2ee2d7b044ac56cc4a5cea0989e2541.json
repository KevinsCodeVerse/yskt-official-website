{"ast":null,"code":"import _regeneratorRuntime from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { getUserInfoApi, updateUserInfoApi } from \"@/common/api/user\";\nexport default {\n  data: function data() {\n    return {\n      userInfo: {\n        nick: \"\",\n        qq: \"\",\n        gender: \"\",\n        phone: \"\",\n        name: \"\",\n        wechat: \"\",\n        account: \"\"\n      }\n    };\n  },\n  created: function created() {\n    this.getUserInfo();\n  },\n  methods: {\n    getUserInfo: function getUserInfo() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res, _res$result, nick, qq, gender, phone, name, wechat, account, studentNumber;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getUserInfoApi();\n            case 2:\n              res = _context.sent;\n              if (res) {\n                _res$result = res.result, nick = _res$result.nick, qq = _res$result.qq, gender = _res$result.gender, phone = _res$result.phone, name = _res$result.name, wechat = _res$result.wechat, account = _res$result.account, studentNumber = _res$result.studentNumber;\n                _this.userInfo = {\n                  nick: nick,\n                  qq: qq,\n                  gender: gender,\n                  phone: phone,\n                  name: name,\n                  wechat: wechat,\n                  studentNumber: studentNumber,\n                  account: account\n                };\n              }\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    updateUserInfo: function updateUserInfo() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return updateUserInfoApi(_this2.userInfo);\n            case 2:\n              res = _context2.sent;\n              if (res.code == 0) {\n                _this2.$message.success(res.result);\n                _this2.getUserInfo();\n              }\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["getUserInfoApi","updateUserInfoApi","data","userInfo","nick","qq","gender","phone","name","wechat","account","created","getUserInfo","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","_res$result","studentNumber","wrap","_callee$","_context","prev","next","sent","result","stop","updateUserInfo","_this2","_callee2","_callee2$","_context2","code","$message","success"],"sources":["src/components/myProfile/personalProfile.vue"],"sourcesContent":["<!-- 个人资料 -->\n<template>\n  <div class=\"userProfile\">\n    <div class=\"header-info\">\n      <div class=\"image-box\">\n        <img\n          src=\"https://img12.yiihuu.com/upimg/album/2022/10/21/1948824-1666345609-403594.jpg\"\n          alt=\"\"\n        />\n      </div>\n      <div>\n        <p>用户名： {{ userInfo.account }}</p>\n        <p>联系电话： {{ userInfo.phone }}</p>\n        <p v-if=\"userInfo.studentNumber\">学籍号：{{ userInfo.studentNumber }}</p>\n      </div>\n    </div>\n    <div>\n      <el-form size=\"normal\" :model=\"userInfo\" ref=\"form\" :inline=\"false\">\n        <el-form-item label=\"性别\">\n          <el-select\n            style=\"width: 100%\"\n            v-model=\"userInfo.gender\"\n            placeholder=\"性别\"\n            clearable\n          >\n            <el-option label=\"男\" :value=\"1\"> </el-option>\n            <el-option label=\"女\" :value=\"2\"> </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"昵称:\">\n          <el-input\n            clearable\n            v-model=\"userInfo.nick\"\n            placeholder=\"昵称\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"QQ号:\">\n          <el-input\n            clearable\n            v-model=\"userInfo.qq\"\n            placeholder=\"QQ号\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"微信:\">\n          <el-input\n            clearable\n            v-model=\"userInfo.wechat\"\n            placeholder=\"微信\"\n          ></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"updateUserInfo\">修改</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getUserInfoApi, updateUserInfoApi } from \"@/common/api/user\";\nexport default {\n  data() {\n    return {\n      userInfo: {\n        nick: \"\",\n        qq: \"\",\n        gender: \"\",\n        phone: \"\",\n        name: \"\",\n        wechat: \"\",\n        account: \"\",\n      },\n    };\n  },\n  created() {\n    this.getUserInfo();\n  },\n\n  methods: {\n    async getUserInfo() {\n      const res = await getUserInfoApi();\n      if (res) {\n        const { nick, qq, gender, phone, name, wechat, account, studentNumber } = res.result;\n        this.userInfo = {\n          nick,\n          qq,\n          gender,\n          phone,\n          name,\n          wechat,\n          studentNumber,\n          account,\n        };\n      }\n    },\n\n    async updateUserInfo() {\n      const res = await updateUserInfoApi(this.userInfo);\n      if (res.code == 0) {\n        this.$message.success(res.result);\n        this.getUserInfo();\n      }\n    },\n  },\n};\n</script>\n<style lang=\"less\">\n.userProfile {\n  padding: 20px 30px;\n  font-size: 14px;\n  .header-info {\n    display: flex;\n    align-items: center;\n    margin-bottom: 20px;\n    p {\n      display: inline-block;\n      line-height: 40px;\n      padding-left: 60px;\n      font-size: 16px;\n    }\n    .image-box {\n      width: 100px;\n      height: 100px;\n      border-radius: 100px;\n      overflow: hidden;\n      img {\n        width: 100px;\n        height: 100%;\n      }\n    }\n  }\n  .el-form {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    .el-form-item {\n      width: 48%;\n    }\n  }\n}\n</style>\n"],"mappings":";;;AA4DA,SAAAA,cAAA,EAAAC,iBAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;QACAC,IAAA;QACAC,EAAA;QACAC,MAAA;QACAC,KAAA;QACAC,IAAA;QACAC,MAAA;QACAC,OAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,WAAA;EACA;EAEAC,OAAA;IACAD,WAAA,WAAAA,YAAA;MAAA,IAAAE,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,GAAA,EAAAC,WAAA,EAAAhB,IAAA,EAAAC,EAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,IAAA,EAAAC,MAAA,EAAAC,OAAA,EAAAW,aAAA;QAAA,OAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACA1B,cAAA;YAAA;cAAAmB,GAAA,GAAAK,QAAA,CAAAG,IAAA;cACA,IAAAR,GAAA;gBAAAC,WAAA,GACAD,GAAA,CAAAS,MAAA,EAAAxB,IAAA,GAAAgB,WAAA,CAAAhB,IAAA,EAAAC,EAAA,GAAAe,WAAA,CAAAf,EAAA,EAAAC,MAAA,GAAAc,WAAA,CAAAd,MAAA,EAAAC,KAAA,GAAAa,WAAA,CAAAb,KAAA,EAAAC,IAAA,GAAAY,WAAA,CAAAZ,IAAA,EAAAC,MAAA,GAAAW,WAAA,CAAAX,MAAA,EAAAC,OAAA,GAAAU,WAAA,CAAAV,OAAA,EAAAW,aAAA,GAAAD,WAAA,CAAAC,aAAA;gBACAP,KAAA,CAAAX,QAAA;kBACAC,IAAA,EAAAA,IAAA;kBACAC,EAAA,EAAAA,EAAA;kBACAC,MAAA,EAAAA,MAAA;kBACAC,KAAA,EAAAA,KAAA;kBACAC,IAAA,EAAAA,IAAA;kBACAC,MAAA,EAAAA,MAAA;kBACAY,aAAA,EAAAA,aAAA;kBACAX,OAAA,EAAAA;gBACA;cACA;YAAA;YAAA;cAAA,OAAAc,QAAA,CAAAK,IAAA;UAAA;QAAA,GAAAX,OAAA;MAAA;IACA;IAEAY,cAAA,WAAAA,eAAA;MAAA,IAAAC,MAAA;MAAA,OAAAhB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAe,SAAA;QAAA,IAAAb,GAAA;QAAA,OAAAH,mBAAA,GAAAM,IAAA,UAAAW,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAT,IAAA,GAAAS,SAAA,CAAAR,IAAA;YAAA;cAAAQ,SAAA,CAAAR,IAAA;cAAA,OACAzB,iBAAA,CAAA8B,MAAA,CAAA5B,QAAA;YAAA;cAAAgB,GAAA,GAAAe,SAAA,CAAAP,IAAA;cACA,IAAAR,GAAA,CAAAgB,IAAA;gBACAJ,MAAA,CAAAK,QAAA,CAAAC,OAAA,CAAAlB,GAAA,CAAAS,MAAA;gBACAG,MAAA,CAAAnB,WAAA;cACA;YAAA;YAAA;cAAA,OAAAsB,SAAA,CAAAL,IAAA;UAAA;QAAA,GAAAG,QAAA;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _regeneratorRuntime from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { getCourseListByOrderApi } from \"@/common/api/schoollDetails\";\nimport headerWorld from \"@/components/headerWorld.vue\";\nimport submitWork from \"@/components/submitWork.vue\";\nexport default {\n  components: {\n    headerWorld: headerWorld,\n    submitWork: submitWork\n  },\n  data: function data() {\n    return {\n      courseList: [],\n      pageNo: 1,\n      pageSize: 3,\n      total: 0,\n      loading: false\n    };\n  },\n  created: function created() {\n    this.getCourseList();\n  },\n  computed: {\n    noMore: function noMore() {\n      return this.courseList.length >= this.total;\n    },\n    disabled: function disabled() {\n      return this.loading || this.noMore;\n    }\n  },\n  methods: {\n    handleLiveTeacher: function handleLiveTeacher(item, teacher) {\n      console.log('item', item);\n      console.log('teacher', teacher);\n      this.$router.push({\n        path: \"/live/\".concat(teacher.id),\n        query: {\n          teacherId: teacher.id,\n          orderNum: this.$route.query.orderNum,\n          courseId: item.id\n        }\n      });\n    },\n    getCourseList: function getCourseList(load) {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var orderNum, res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.loading = true;\n              orderNum = _this.$route.query.orderNum;\n              _context.next = 4;\n              return getCourseListByOrderApi({\n                orderNum: orderNum\n              });\n            case 4:\n              res = _context.sent;\n              if (res) {\n                if (load) {\n                  _this.courseList = [].concat(_toConsumableArray(_this.courseList), _toConsumableArray(res.result));\n                } else {\n                  _this.courseList = res.result;\n                }\n              }\n              _this.loading = false;\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    handleDetail: function handleDetail(item) {\n      this.$router.push({\n        path: \"/live/\".concat(item.id),\n        query: {\n          orderNum: item.orderNum\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["getCourseListByOrderApi","headerWorld","submitWork","components","data","courseList","pageNo","pageSize","total","loading","created","getCourseList","computed","noMore","length","disabled","methods","handleLiveTeacher","item","teacher","console","log","$router","push","path","concat","id","query","teacherId","orderNum","$route","courseId","load","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","sent","_toConsumableArray","result","stop","handleDetail"],"sources":["src/views/userCenter/myCourse.vue"],"sourcesContent":["<template>\n  <div>\n    <headerWorld></headerWorld>\n    <div class=\"myCourse\">\n      <div\n          class=\"content-box\"\n          v-infinite-scroll=\"load\"\n          infinite-scroll-disabled=\"disabled\"\n      >\n        <div\n            v-for=\"(item, index) in courseList\"\n            :key=\"index\"\n            class=\"content-item\"\n        >\n          <div class=\"left-box\">\n            <p class=\"title\">{{ item.name }}</p>\n            <p class=\"text\">{{ item.overview }}</p>\n            <span>主讲老师：{{ item.teacherName }}</span>\n            <!-- 判断是否有直播讲师，显示相应的按钮 -->\n            <div v-if=\"item.liveTeracher && item.liveTeracher.length > 0\">\n              <div\n                  v-for=\"(teacher, idx) in item.liveTeracher\"\n                  :key=\"teacher.id\"\n                  class=\"teacher-button\"\n              >\n                <el-button\n                    type=\"primary\"\n                    @click.stop=\"handleLiveTeacher(item, teacher)\"\n                >\n                  看{{ teacher.name }}的直播\n                </el-button>\n              </div>\n            </div>\n\n            <!-- 如果没有直播讲师，显示开始学习按钮 -->\n            <div v-else class=\"study-btn\" @click=\"handleDetail(item)\">\n              开始学习\n            </div>\n\n          </div>\n          <div class=\"right-box\">\n            <div class=\"cover-box\">\n              <img class=\"cover\" :src=\"item.image\" alt=\"\" />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"bottom-info\" v-if=\"loading\">加载中...</div>\n        <div class=\"bottom-info\" v-if=\"noMore\">没有更多了</div>\n      </div>\n      <submitWork ref=\"work\"></submitWork>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getCourseListByOrderApi } from \"@/common/api/schoollDetails\";\nimport headerWorld from \"@/components/headerWorld.vue\";\nimport submitWork from \"@/components/submitWork.vue\";\n\nexport default {\n  components: {\n    headerWorld,\n    submitWork,\n  },\n  data() {\n    return {\n      courseList: [],\n      pageNo: 1,\n      pageSize: 3,\n      total: 0,\n      loading: false,\n    };\n  },\n  created() {\n    this.getCourseList();\n  },\n  computed: {\n    noMore() {\n      return this.courseList.length >= this.total;\n    },\n    disabled() {\n      return this.loading || this.noMore;\n    },\n  },\n  methods: {\n    handleLiveTeacher(item, teacher) {\n      console.log('item',item)\n      console.log('teacher',teacher)\n      this.$router.push({\n        path: `/live/${teacher.id}`,\n        query: {teacherId:teacher.id, orderNum: this.$route.query.orderNum, courseId:\n          item.id },\n      });\n    },\n    async getCourseList(load) {\n      this.loading = true;\n      const orderNum = this.$route.query.orderNum;\n      const res = await getCourseListByOrderApi({ orderNum });\n      if (res) {\n        if (load) {\n          this.courseList = [...this.courseList, ...res.result];\n        } else {\n          this.courseList = res.result;\n        }\n      }\n      this.loading = false;\n    },\n    handleDetail(item) {\n      this.$router.push({\n        path: `/live/${item.id}`,\n        query: { orderNum: item.orderNum },\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.content-item {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  padding: 20px;\n  background: #fff;\n  border-radius: 10px;\n}\n.teacher-button {\n  margin: 10px 0;\n}\n.study-btn {\n  width: 112px;\n  height: 36px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid var(--color-main);\n  border-radius: 6px;\n  color: var(--color-main);\n  margin-top: 20px;\n  cursor: pointer;\n}\n.cover-box {\n  width: 278px;\n  height: 180px;\n  overflow: hidden;\n  border-radius: 10px;\n}\n.cover {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: all 0.5s;\n}\n</style>\n"],"mappings":";;;;;AAwDA,SAAAA,uBAAA;AACA,OAAAC,WAAA;AACA,OAAAC,UAAA;AAEA;EACAC,UAAA;IACAF,WAAA,EAAAA,WAAA;IACAC,UAAA,EAAAA;EACA;EACAE,IAAA,WAAAA,KAAA;IACA;MACAC,UAAA;MACAC,MAAA;MACAC,QAAA;MACAC,KAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,aAAA;EACA;EACAC,QAAA;IACAC,MAAA,WAAAA,OAAA;MACA,YAAAR,UAAA,CAAAS,MAAA,SAAAN,KAAA;IACA;IACAO,QAAA,WAAAA,SAAA;MACA,YAAAN,OAAA,SAAAI,MAAA;IACA;EACA;EACAG,OAAA;IACAC,iBAAA,WAAAA,kBAAAC,IAAA,EAAAC,OAAA;MACAC,OAAA,CAAAC,GAAA,SAAAH,IAAA;MACAE,OAAA,CAAAC,GAAA,YAAAF,OAAA;MACA,KAAAG,OAAA,CAAAC,IAAA;QACAC,IAAA,WAAAC,MAAA,CAAAN,OAAA,CAAAO,EAAA;QACAC,KAAA;UAAAC,SAAA,EAAAT,OAAA,CAAAO,EAAA;UAAAG,QAAA,OAAAC,MAAA,CAAAH,KAAA,CAAAE,QAAA;UAAAE,QAAA,EACAb,IAAA,CAAAQ;QAAA;MACA;IACA;IACAf,aAAA,WAAAA,cAAAqB,IAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAR,QAAA,EAAAS,GAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAV,KAAA,CAAAxB,OAAA;cACAoB,QAAA,GAAAI,KAAA,CAAAH,MAAA,CAAAH,KAAA,CAAAE,QAAA;cAAAY,QAAA,CAAAE,IAAA;cAAA,OACA3C,uBAAA;gBAAA6B,QAAA,EAAAA;cAAA;YAAA;cAAAS,GAAA,GAAAG,QAAA,CAAAG,IAAA;cACA,IAAAN,GAAA;gBACA,IAAAN,IAAA;kBACAC,KAAA,CAAA5B,UAAA,MAAAoB,MAAA,CAAAoB,kBAAA,CAAAZ,KAAA,CAAA5B,UAAA,GAAAwC,kBAAA,CAAAP,GAAA,CAAAQ,MAAA;gBACA;kBACAb,KAAA,CAAA5B,UAAA,GAAAiC,GAAA,CAAAQ,MAAA;gBACA;cACA;cACAb,KAAA,CAAAxB,OAAA;YAAA;YAAA;cAAA,OAAAgC,QAAA,CAAAM,IAAA;UAAA;QAAA,GAAAV,OAAA;MAAA;IACA;IACAW,YAAA,WAAAA,aAAA9B,IAAA;MACA,KAAAI,OAAA,CAAAC,IAAA;QACAC,IAAA,WAAAC,MAAA,CAAAP,IAAA,CAAAQ,EAAA;QACAC,KAAA;UAAAE,QAAA,EAAAX,IAAA,CAAAW;QAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _toConsumableArray from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { getCategoryApi, getCourseListApi } from \"@/common/api/schoollDetails\";\nimport headerWorld from \"@/components/headerWorld.vue\";\nimport singleFilter from \"@/components/singleFilter.vue\";\nexport default {\n  components: {\n    headerWorld: headerWorld,\n    singleFilter: singleFilter\n  },\n  data: function data() {\n    return {\n      filterData: {\n        hasFree: \"\",\n        categoryId: \"\",\n        hasLive: \"\"\n      },\n      filterList: [{\n        label: \"课程分类\",\n        key: \"hasFree\",\n        value: \"\",\n        options: [{\n          id: 0,\n          name: \"公开\"\n        }, {\n          id: 1,\n          name: \"会员课\"\n        }]\n      }, {\n        label: \"课程类型\",\n        key: \"categoryId\",\n        value: \"\",\n        options: []\n      }, {\n        label: \"观看类型\",\n        value: \"\",\n        key: \"hasLive\",\n        options: [{\n          id: 0,\n          name: \"直播\"\n        }, {\n          id: 1,\n          name: \"录播\"\n        }]\n      }],\n      courseList: [],\n      pageNo: 1,\n      pageSize: 3,\n      total: 0,\n      loading: false\n    };\n  },\n  created: function created() {\n    this.getCategoryList();\n    this.getCourseList();\n  },\n  computed: {\n    noMore: function noMore() {\n      return this.courseList.length >= this.total;\n    },\n    disabled: function disabled() {\n      return this.loading || this.noMore;\n    }\n  },\n  methods: {\n    getCategoryList: function getCategoryList() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getCategoryApi();\n            case 2:\n              res = _context.sent;\n              _this.filterList[1].options = res.result;\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    getCourseList: function getCourseList(load) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _this2.loading = true;\n              _context2.next = 3;\n              return getCourseListApi(_objectSpread({\n                pageNo: _this2.pageNo,\n                pageSize: _this2.pageSize\n              }, _this2.filterData));\n            case 3:\n              res = _context2.sent;\n              if (load) {\n                _this2.courseList = [].concat(_toConsumableArray(_this2.courseList), _toConsumableArray(res.result.list));\n              } else {\n                _this2.courseList = res.result.list;\n              }\n              _this2.total = res.result.total;\n              _this2.loading = false;\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    handleSearch: function handleSearch() {\n      this.pageNo = 1;\n      this.courseList = [];\n      this.getCourseList();\n    },\n    load: function load() {\n      this.pageNo = this.pageNo + 1;\n      this.getCourseList(true);\n    }\n  }\n};","map":{"version":3,"names":["getCategoryApi","getCourseListApi","headerWorld","singleFilter","components","data","filterData","hasFree","categoryId","hasLive","filterList","label","key","value","options","id","name","courseList","pageNo","pageSize","total","loading","created","getCategoryList","getCourseList","computed","noMore","length","disabled","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","sent","result","stop","load","_this2","_callee2","_callee2$","_context2","_objectSpread","concat","_toConsumableArray","list","handleSearch"],"sources":["src/views/indexDetails/schoolDetails.vue"],"sourcesContent":["<template>\n  <div>\n    <headerWorld></headerWorld>\n    <div class=\"concat\">\n      <div class=\"filter-box\">\n        <singleFilter\n          v-model=\"filterData\"\n          ref=\"filter\"\n          :filter-list=\"filterList\"\n          @search=\"handleSearch\"\n        ></singleFilter>\n      </div>\n      <div\n        class=\"content-box\"\n        v-infinite-scroll=\"load\"\n        infinite-scroll-disabled=\"disabled\"\n      >\n        <div\n          v-for=\"(item, index) in courseList\"\n          :key=\"index\"\n          class=\"content-item\"\n        >\n          <div class=\"left-box\">\n            <p class=\"title\">{{ item.name }}</p>\n            <p class=\"text\">{{ item.overview }}</p>\n            <span>主讲老师：{{ item.teacherName }}</span>\n            <div class=\"study-btn\" @click=\"() => $router.push({path: '/homeIndex', query: {id: item.id}})\">开始学习</div>\n          </div>\n          <div class=\"right-box\">\n            <div class=\"cover-box\">\n              <img class=\"cover\" :src=\"item.image\" alt=\"\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"bottom-info\" v-if=\"loading\">加载中...</div>\n        <div class=\"bottom-info\" v-if=\"noMore\">没有更多了</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getCategoryApi, getCourseListApi } from \"@/common/api/schoollDetails\";\nimport headerWorld from \"@/components/headerWorld.vue\";\nimport singleFilter from \"@/components/singleFilter.vue\";\nexport default {\n  components: {\n    headerWorld,\n    singleFilter,\n  },\n  data() {\n    return {\n      filterData: {\n        hasFree: \"\",\n        categoryId: \"\",\n        hasLive: \"\",\n      },\n      filterList: [\n        {\n          label: \"课程分类\",\n          key: \"hasFree\",\n          value: \"\",\n          options: [\n            {\n              id: 0,\n              name: \"公开\",\n            },\n            {\n              id: 1,\n              name: \"会员课\",\n            },\n          ],\n        },\n        {\n          label: \"课程类型\",\n          key: \"categoryId\",\n          value: \"\",\n          options: [],\n        },\n        {\n          label: \"观看类型\",\n          value: \"\",\n          key: \"hasLive\",\n          options: [\n            {\n              id: 0,\n              name: \"直播\",\n            },\n            {\n              id: 1,\n              name: \"录播\",\n            },\n          ],\n        },\n      ],\n      courseList: [],\n      pageNo: 1,\n      pageSize: 3,\n      total: 0,\n      loading: false,\n    };\n  },\n  created() {\n    this.getCategoryList();\n    this.getCourseList();\n  },\n  computed: {\n    noMore() {\n      return this.courseList.length >= this.total;\n    },\n    disabled() {\n      return this.loading || this.noMore;\n    },\n  },\n  methods: {\n    async getCategoryList() {\n      const res = await getCategoryApi();\n      this.filterList[1].options = res.result;\n    },\n    async getCourseList(load) {\n      this.loading = true;\n      const res = await getCourseListApi({\n        pageNo: this.pageNo,\n        pageSize: this.pageSize,\n        ...this.filterData,\n      });\n      if (load) {\n        this.courseList = [...this.courseList, ...res.result.list];\n      } else {\n        this.courseList = res.result.list;\n      }\n      this.total = res.result.total;\n      this.loading = false;\n    \n    },\n    handleSearch() {\n      this.pageNo = 1;\n      this.courseList = []\n      this.getCourseList();\n    },\n    load() {\n      this.pageNo = this.pageNo + 1;\n      this.getCourseList(true);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.header {\n  width: 100%;\n  text-align: center;\n  display: flex;\n  justify-content: space-around;\n  align-content: center;\n  height: 50px;\n  line-height: 50px;\n  background: #2b2b37;\n  padding: 20px 0;\n}\n\n.heaerRightSearch {\n  text-align: center;\n  height: 40px;\n  width: 250px;\n  line-height: 35px;\n  border-radius: 5px 5px 0 5px;\n  background: #ffffff;\n}\n.headerRight {\n  display: flex;\n  align-content: center;\n  text-align: center;\n  justify-content: center;\n}\n.no-border .el-input__inner {\n  border: none;\n  background-color: transparent;\n}\n\n.searchStyle {\n  width: 50px;\n  height: 40px;\n  border-radius: 0 5px 0 0;\n  background-color: #1584f6;\n  cursor: pointer;\n  text-align: center;\n}\n\n.searchStyle-img {\n  transform: scale(0.6);\n}\n.box {\n  transition: transform 0.1s ease-in-out 0.1s;\n}\n.fills {\n  margin-right: 30px;\n}\n\n.fills:hover {\n  color: #ffffff;\n  cursor: pointer;\n}\n.concat {\n  display: flex;\n  justify-content: center;\n  text-align: left;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 20px;\n  .filter-box {\n    width: 1200px;\n  }\n}\n.titleOptions {\n  background: #fff;\n  border-radius: 5px;\n  width: 1200px;\n  height: auto;\n  margin: 30px 0;\n  border: 1px solid #eaeaea;\n}\n.vn-cls {\n  display: flex;\n  border-bottom: 1px solid #eaeaea;\n  padding-left: 30px;\n  height: 60px;\n  margin-bottom: 15px;\n  line-height: 60px;\n}\n.courseIndex {\n  min-width: 60px;\n  height: 30px;\n  margin-right: 15px;\n  line-height: 30px;\n  margin-left: 15px;\n  text-align: center;\n  padding: 10px;\n}\n.courseIndex2 {\n  min-width: 60px;\n  height: 30px;\n  font-weight: 700;\n  line-height: 30px;\n  text-align: center;\n  padding: 10px;\n  background: #1584f6;\n  cursor: pointer;\n  color: #fff;\n  border-radius: 5px;\n}\n.courseIndex:hover {\n  background: #1584f6;\n  cursor: pointer;\n  border-radius: 5px;\n  font-weight: 700;\n  color: #fff;\n}\n\n.content-box {\n  overflow: auto;\n  width: 1200px;\n  margin: auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n\n  .content-item {\n    display: flex;\n    justify-content: space-between;\n    width: 48%;\n    margin-bottom: 20px;\n    background: #fff;\n    box-sizing: border-box;\n    cursor: pointer;\n\n    padding: 20px;\n    // box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n    border-radius: 10px;\n    &:hover {\n      box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n      .title {\n        color: var(--color-main);\n      }\n      .study-btn {\n        color: #fff !important;\n        background: var(--color-main);\n      }\n      .cover {\n        transform: scale(1.1);\n      }\n    }\n    .left-box {\n      .title {\n        font-size: 20px;\n        font-weight: bold;\n        padding-bottom: 10px;\n      }\n      .text {\n        font-size: 14px;\n        color: #666;\n        margin: 10px 0px;\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        word-wrap: break-word;\n        word-break: break-all;\n      }\n\n      span {\n        color: #999999;\n        font-size: 12px;\n      }\n      .study-btn {\n        width: 112px;\n        height: 36px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: 1px solid var(--color-main);\n        border-radius: 6px;\n        color: var(--color-main);\n        margin-top: 20px;\n      }\n    }\n    .right-box {\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      width: 278px;\n\n      // height: 250px;\n      .cover-box {\n        width: 278px;\n        height: 180px;\n        overflow: hidden;\n        border-radius: 10px;\n        .cover {\n          position: relative;\n          z-index: 1;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          border-radius: 10px;\n          transition: all 0.5s;\n        }\n      }\n      &::after {\n        content: \"\";\n        display: block;\n        margin: 0 16px;\n        height: 22px;\n        background: url(\"@/assets/shadow_1380@2x.d42d9897.png\") no-repeat;\n        background-size: 100%;\n      }\n    }\n  }\n\n  .bottom-info {\n    width: 100%;\n    text-align: center;\n    margin: 20px 0px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
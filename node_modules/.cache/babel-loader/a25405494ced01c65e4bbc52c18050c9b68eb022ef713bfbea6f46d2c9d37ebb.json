{"ast":null,"code":"import _typeof from \"/Users/fjw/Desktop/yskt/yskt-official-website/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.object.create.js\";\nimport \"core-js/modules/es.object.proto.js\";\nimport \"core-js/modules/es.object.set-prototype-of.js\";\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n/** 表示可清理的资源，比如 Observable 的执行 */\nvar Subscription = /** @class */function () {\n  function Subscription() {\n    /** 用来标示该 Subscription 是否被取消订阅的标示位 */\n    this.closed = false;\n  }\n  /** 取消 observer 的订阅 */\n  Subscription.prototype.unsubscribe = function () {\n    if (this.closed) {\n      return;\n    }\n    this.closed = true;\n    if (this._unsubscribe) {\n      this._unsubscribe();\n    }\n  };\n  /** 添加一个 tear down 在该 Subscription 的 unsubscribe() 期间调用 */\n  Subscription.prototype.add = function (teardown) {\n    this._unsubscribe = teardown;\n  };\n  return Subscription;\n}();\n/**\n * 实现 Observer 接口并且继承 Subscription 类，Observer 是消费 Observable 值的公有 API\n * 所有 Observers 都转化成了 Subscriber，以便提供类似 Subscription 的能力，比如 unsubscribe\n*/\nvar Subscriber = /** @class */function (_super) {\n  __extends(Subscriber, _super);\n  function Subscriber(observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n    _this.isStopped = false;\n    if (observerOrNext && _typeof(observerOrNext) === 'object') {\n      _this.destination = observerOrNext;\n    } else {\n      _this.destination = __assign(__assign(__assign({}, observerOrNext && {\n        next: observerOrNext\n      }), error && {\n        error: error\n      }), complete && {\n        complete: complete\n      });\n    }\n    return _this;\n  }\n  Subscriber.prototype.unsubscribe = function () {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    _super.prototype.unsubscribe.call(this);\n  };\n  Subscriber.prototype.next = function (value) {\n    if (!this.isStopped && this.destination.next) {\n      this.destination.next(value);\n    }\n  };\n  Subscriber.prototype.error = function (err) {\n    if (!this.isStopped && this.destination.error) {\n      this.isStopped = true;\n      this.destination.error(err);\n    }\n  };\n  Subscriber.prototype.complete = function (result) {\n    if (!this.isStopped && this.destination.complete) {\n      this.isStopped = true;\n      this.destination.complete(result);\n    }\n  };\n  return Subscriber;\n}(Subscription);\nexport { Subscriber };\n/** 可观察对象，当前的上传事件的集合 */\nvar Observable = /** @class */function () {\n  function Observable(_subscribe) {\n    this._subscribe = _subscribe;\n  }\n  Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n    var sink = new Subscriber(observerOrNext, error, complete);\n    sink.add(this._subscribe(sink));\n    return sink;\n  };\n  return Observable;\n}();\nexport { Observable };","map":{"version":3,"names":["Subscription","closed","prototype","unsubscribe","_unsubscribe","add","teardown","Subscriber","_super","__extends","observerOrNext","error","complete","_this","call","isStopped","_typeof","destination","__assign","next","value","err","result","Observable","_subscribe","subscribe","sink"],"sources":["../../src/utils/observable.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}